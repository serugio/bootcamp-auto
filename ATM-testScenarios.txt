Feature: atm validations

    @beforeTest
    user inserts a valid debit card

    @afterTest
    system ends current session
    user checks that current session it's ended


 # Assumptions:
 - the ask for password step is required after the user select a transaction option


    Scenario: 001 check savings account balance

    system shows check saving account in screen
    user selects check saving account option
    system asks user to insert password
    user inserts password

    IF password is ok
        system shows
            1.1 show balance in screen option
            1.2 print balance option
        user selects show balance in screen option
        system shows current account balance in screen
    ELSE
        system shows "wrong password, please restart the transaction (re-insert card)" message
        end of transaction

    Scenario: 002 withdraw money from savings account

        system shows withdraw money from saving account in screen
        user selects withdraw money from saving account option
        system asks user to insert password
        user inserts password

        IF password is ok
            system shows
                1.1 default amount 1
                1.2 default amount 2
                1.3 default amount 3
                1.4 default amount 4
                1.5 another amount option

                IF user select one of (1.1 to 1.4 options)
                    continue to step 2
                ELSE
                    system shows insert amount option
                    user inserts required amount to withdwraw
                    continue to step 2

            2. system checks founds
                IF available founds >= required founds
                    systems gives required founds to user
                ELSE
                    system shows "insufficient available money, please retry with another amount" message
                    end of transaction

        ELSE
                system shows "wrong password, please restart the transaction (re-insert card)" message
                end of transaction

    Scenario: 003 transfer money from savings account

            system shows transfer money from saving account in screen
            user selects transfer money from saving account option
            system asks user to insert password
            user inserts password

            IF password is ok
                system shows insert required amount to transfer
                user inserts required amount to transfer
                system checks founds
                IF available founds >= required founds
                    continue to step 2
                ELSE
                    system shows "insufficient available money, please retry with another amount" message
                    end of transaction

                2.  system shows insert destination account number option
                    user inserts destination account number
                    system checks destination account availability
                    IF destination account is available
                        system transfers required amount of money from user account to required account
                    ELSE
                        system shows "invalid account, please restart the transaction (re-insert card)" message
                        end of transaction

            ELSE
                    system shows "wrong password, please restart the transaction (re-insert card)" message
                    end of transaction